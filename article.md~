- With GUI interfaces and web applications being around for decades now, it some times hard to believe we still have apps running in SSH shells.
- It they still exist today, and if now setup right could provide users with access to the commandline
- So additional steps need to be taked to stop the user from getting access.
- Good news is, it not hard to do and can be added quickly

## What is  SSH Application Shell
- SSH Application Shell are applications that run from the Linux terminal and an easy way from end users to access them is from SSH term
- Putty and other SSH clients are a convent way to run them.
- they make for light weight app
- It does provide a way to setup access to the app that is indepentant of the users home drive setup adding a layer of security built in
- Extra steps are needed to secure these apps to end users can not break out and get to a command prompt

## Setup the App
- A simple Python script will be used for the app.
- The needs to be self-contained and it is added to /opt/test_app/app_entrypoint.py
- As part of the app, a function is called to disable critical control characters Ctrl+C (SIGINT) and Ctrl+Z (SIGTSTP)

```python
def disable_signals():
    # Ignore Ctrl+C (SIGINT) and Ctrl+Z (SIGTSTP)
    signal.signal(signal.SIGINT, signal.SIG_IGN)
    signal.signal(signal.SIGTSTP, signal.SIG_IGN)

```
- See full code [here]()
- This stop the user from drop into a shell terminal
- Because the app waits for input from the user, special code was enter into to stop Ctrl+D (EOF).
```python
    while True:
        try:
            choice = input("Select an option [1-4]: ").strip()
        except EOFError:
            print("\n‚ùå Ctrl+D detected. Exiting securely.")
            time.sleep(1)
            break
```
If the user enter Ctrl+D, the app exists and the users exit from terminal session

## SSH Setup for the App
- When setting up the app, it is common for the app to be called from:
  - User home folder, through .bashrc or other user step files
  - through SSH login in the SSHD setup
- In this article we will focus on the latter
- App users were addedd to a app_group Linux group.
- The SSH option `Match group` was used confined those users at login
```bash
Match Group app_group
    ForceCommand /opt/test_app/app_entrypoint.py
    #ForceCommand /usr/local/bin/your_app_wrapper.sh
    PermitTTY yes
    AllowTcpForwarding no
    X11Forwarding no
```

